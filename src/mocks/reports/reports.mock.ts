/**
 * Mock data para el módulo de Reportes
 * Datos de prueba: definiciones, plantillas, reportes generados y programaciones
 */
import type {
  ReportDefinition,
  ReportTemplate,
  GeneratedReport,
  ReportSchedule,
} from "@/types/report";

// ── DEFINICIONES DE REPORTE ─────────────
export const mockDefinitions: ReportDefinition[] = [
  {
    id: "def-001",
    code: "RPT-OPS-DAILY",
    name: "Reporte Operacional Diario",
    description: "Resumen de operaciones del día",
    type: "operational",
    category: "Operaciones",
    dataSource: "orders",
    columns: [
      { id: "col-1", field: "orderNumber", header: "N° Orden", isVisible: true, format: "text" },
      { id: "col-2", field: "customerName", header: "Cliente", isVisible: true, format: "text" },
      { id: "col-3", field: "status", header: "Estado", isVisible: true, format: "text" },
      { id: "col-4", field: "deliveryDate", header: "Fecha Entrega", isVisible: true, format: "datetime" },
      { id: "col-5", field: "vehiclePlate", header: "Vehículo", isVisible: true, format: "text" },
      { id: "col-6", field: "driverName", header: "Conductor", isVisible: true, format: "text" },
    ],
    filters: [],
    isPublic: true,
    createdBy: "admin",
    createdAt: "2026-01-01T00:00:00Z",
    updatedAt: "2026-01-01T00:00:00Z",
    usageCount: 125,
  },
  {
    id: "def-002",
    code: "RPT-FIN-MONTHLY",
    name: "Reporte Financiero Mensual",
    description: "Resumen financiero del mes",
    type: "financial",
    category: "Finanzas",
    dataSource: "invoices",
    columns: [
      { id: "col-1", field: "invoiceNumber", header: "N° Factura", isVisible: true, format: "text" },
      { id: "col-2", field: "customerName", header: "Cliente", isVisible: true, format: "text" },
      { id: "col-3", field: "total", header: "Total", isVisible: true, format: "currency", currency: "PEN" },
      { id: "col-4", field: "amountPaid", header: "Pagado", isVisible: true, format: "currency", currency: "PEN" },
      { id: "col-5", field: "status", header: "Estado", isVisible: true, format: "text" },
    ],
    filters: [],
    showTotals: true,
    isPublic: true,
    createdBy: "admin",
    createdAt: "2026-01-01T00:00:00Z",
    updatedAt: "2026-01-01T00:00:00Z",
    usageCount: 89,
  },
  {
    id: "def-003",
    code: "RPT-FLEET-STATUS",
    name: "Estado de Flota",
    description: "Estado actual de todos los vehículos",
    type: "fleet",
    category: "Flota",
    dataSource: "vehicles",
    columns: [
      { id: "col-1", field: "plate", header: "Placa", isVisible: true, format: "text" },
      { id: "col-2", field: "model", header: "Modelo", isVisible: true, format: "text" },
      { id: "col-3", field: "status", header: "Estado", isVisible: true, format: "text" },
      { id: "col-4", field: "currentKm", header: "Km Actual", isVisible: true, format: "number" },
      { id: "col-5", field: "lastMaintenance", header: "Último Mtto", isVisible: true, format: "date" },
      { id: "col-6", field: "nextMaintenance", header: "Próximo Mtto", isVisible: true, format: "date" },
    ],
    filters: [],
    isPublic: true,
    createdBy: "admin",
    createdAt: "2026-01-01T00:00:00Z",
    updatedAt: "2026-01-01T00:00:00Z",
    usageCount: 67,
  },
];

// ── PLANTILLAS DE REPORTE ────────────────
export const mockTemplates: ReportTemplate[] = [
  {
    id: "tpl-001",
    name: "Órdenes por Período",
    type: "order",
    definition: {
      dataSource: "orders",
      columns: mockDefinitions[0].columns,
    },
    requiredParams: [
      { name: "dateRange", label: "Rango de Fechas", type: "dateRange", required: true },
      {
        name: "status",
        label: "Estado",
        type: "multiSelect",
        options: [
          { value: "pending", label: "Pendiente" },
          { value: "in_progress", label: "En Progreso" },
          { value: "completed", label: "Completado" },
        ],
        required: false,
      },
    ],
    defaultFormat: "pdf",
    availableFormats: ["pdf", "excel", "csv"],
    isActive: true,
    createdAt: "2026-01-01T00:00:00Z",
    updatedAt: "2026-01-01T00:00:00Z",
  },
  {
    id: "tpl-002",
    name: "Facturación por Cliente",
    type: "financial",
    definition: {
      dataSource: "invoices",
      columns: mockDefinitions[1].columns,
      showTotals: true,
    },
    requiredParams: [
      { name: "dateRange", label: "Rango de Fechas", type: "dateRange", required: true },
      { name: "customerId", label: "Cliente", type: "select", required: false },
    ],
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "csv"],
    isActive: true,
    createdAt: "2026-01-01T00:00:00Z",
    updatedAt: "2026-01-01T00:00:00Z",
  },
];

// ── REPORTES GENERADOS ───────────────────
export const mockGeneratedReports: GeneratedReport[] = [
  {
    id: "gen-001",
    definitionId: "def-001",
    name: "Reporte Operacional - Enero 2026",
    type: "operational",
    parameters: { month: "2026-01" },
    filters: [],
    dateRange: { start: "2026-01-01", end: "2026-01-31" },
    status: "completed",
    format: "pdf",
    fileUrl: "/reports/gen-001.pdf",
    fileSize: 245678,
    rowCount: 150,
    requestedAt: "2026-02-01T08:00:00Z",
    startedAt: "2026-02-01T08:00:01Z",
    completedAt: "2026-02-01T08:00:15Z",
    expiresAt: "2026-02-08T08:00:00Z",
    requestedBy: "admin",
  },
  {
    id: "gen-002",
    definitionId: "def-002",
    name: "Reporte Financiero - Enero 2026",
    type: "financial",
    parameters: { month: "2026-01" },
    filters: [],
    dateRange: { start: "2026-01-01", end: "2026-01-31" },
    status: "completed",
    format: "excel",
    fileUrl: "/reports/gen-002.xlsx",
    fileSize: 189456,
    rowCount: 45,
    requestedAt: "2026-02-01T09:00:00Z",
    startedAt: "2026-02-01T09:00:01Z",
    completedAt: "2026-02-01T09:00:08Z",
    expiresAt: "2026-02-08T09:00:00Z",
    requestedBy: "finance",
  },
];

// ── PROGRAMACIONES DE REPORTE ────────────
export const mockSchedules: ReportSchedule[] = [
  {
    id: "sch-001",
    definitionId: "def-001",
    name: "Reporte Operacional Diario",
    frequency: "daily",
    timeOfDay: "06:00",
    timezone: "America/Lima",
    parameters: {},
    relativeDateRange: { unit: "days", value: 1 },
    format: "pdf",
    recipients: ["operaciones@empresa.com", "gerencia@empresa.com"],
    sendEmpty: false,
    isActive: true,
    lastRunAt: "2026-02-02T06:00:00Z",
    nextRunAt: "2026-02-03T06:00:00Z",
    lastStatus: "completed",
    runCount: 33,
    createdBy: "admin",
    createdAt: "2026-01-01T00:00:00Z",
    updatedAt: "2026-02-02T06:00:00Z",
  },
  {
    id: "sch-002",
    definitionId: "def-002",
    name: "Reporte Financiero Semanal",
    frequency: "weekly",
    dayOfWeek: 1,
    timeOfDay: "08:00",
    timezone: "America/Lima",
    parameters: {},
    relativeDateRange: { unit: "weeks", value: 1 },
    format: "excel",
    recipients: ["finanzas@empresa.com"],
    sendEmpty: true,
    isActive: true,
    lastRunAt: "2026-01-27T08:00:00Z",
    nextRunAt: "2026-02-03T08:00:00Z",
    lastStatus: "completed",
    runCount: 5,
    createdBy: "admin",
    createdAt: "2026-01-01T00:00:00Z",
    updatedAt: "2026-01-27T08:00:00Z",
  },
];
